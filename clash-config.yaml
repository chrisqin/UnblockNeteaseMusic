mode: rule

# Clash by default prints logs to STDOUT
# info / warning / error / debug / silent
log-level: info

# When set to false, resolver won't translate hostnames to IPv6 addresses
ipv6: true

# Static hosts for DNS server and connection establishment, only works
# when `dns.enhanced-mode` is `redir-host`.
#
# Wildcard hostnames are supported (e.g. *.clash.dev, *.foo.*.example.com)
# Non-wildcard domain names has a higher priority than wildcard domain names
# e.g. foo.example.com > *.example.com > .example.com
# P.S. +.foo.com equals to .foo.com and foo.com
hosts:
  'mtalk.google.com': 108.177.125.188
  # '*.clash.dev': 127.0.0.1
  # '.dev': 127.0.0.1
  # 'alpha.clash.dev': '::1'
  
# DNS server settings
# This section is optional. When not present, the DNS server will be disabled.
dns:
  enable: true
  listen: 0.0.0.0:53
  # ipv6: false # when the false, response to AAAA questions will be empty

  # These nameservers are used to resolve the DNS nameserver hostnames below.
  # Specify IP addresses only
  default-nameserver:
    - 114.114.114.114
    - 8.8.8.8
  enhanced-mode: redir-host # or fake-ip
  fake-ip-range: 198.18.0.1/16 # Fake IP addresses pool CIDR
  # use-hosts: true # lookup hosts and return IP record
  
  # Hostnames in this list will not be resolved with fake IPs
  # i.e. questions to these domain names will always be answered with their
  # real IP addresses
  # fake-ip-filter:
  #   - '*.lan'
  #   - localhost.ptlogin2.qq.com
  
  # Supports UDP, TCP, DoT, DoH. You can specify the port to connect to.
  # All DNS questions are sent directly to the nameserver, without proxies
  # involved. Clash answers the DNS question with the first result gathered.
  nameserver:
    - 114.114.114.114
    - 8.8.8.8
    - 223.5.5.5
    - 1.1.1.1
    - tls://dns.rubyfish.cn:853 # DNS over TLS
    - https://1.1.1.1/dns-query # DNS over HTTPS

proxies:
  #VMess 1
  - name: "VMess-GIA"
    type: vmess
    server: losfa.xyz
    port: 443
    uuid: 1c5e7cea-962e-4870-bc92-ab03ce9c13dc
    alterId: 32
    cipher: auto
    skip-cert-verify: true
    tls: true
    network: ws
    ws-path: /95ae5cf52d/
    
  #VMess 2
  - name: "Geph-电信"
    type: vmess
    server: sjy.losfa.xyz
    port: 443
    uuid: f7da739f-a465-4530-b103-7b553a74ece9
    alterId: 32
    cipher: auto
    skip-cert-verify: true
    tls: true
    network: ws
    ws-path: /8ca5b/
    
  #VMess 3
  - name: "Geph-移动"
    type: vmess
    server: www.losfa.xyz
    port: 1443
    uuid: eb22410e-7d9d-4135-b12e-ec1e43d48cd7
    alterId: 128
    cipher: auto
    skip-cert-verify: true
    tls: true
    network: ws
    ws-path: /3265c21/

  # http
  - name: "🎶网易云解锁-移动"
    type: http
    server: www.losfa.xyz
    port: 34567
    # username: username
    # password: password
    # tls: true # https
    # skip-cert-verify: true
    
  # socks5
  - name: "Test-soc"
    type: socks5
    server: ::1
    port: 3131

proxy-groups:
  # select is used for selecting proxy or proxy group
  # you can use RESTful API to switch proxy is recommended for use in GUI.
  - name: PROXY
    type: select
    proxies:
      - VMess-GIA
      - Geph-电信
      - Geph-移动
      - Test-soc
      
  - name: 网易云音乐
    type: select
    proxies:
      - 🎶网易云解锁-移动

# 关于 Rule Provider 请查阅：https://lancellc.gitbook.io/clash/clash-config-file/rule-provider

rule-providers:
# name: # Provider 名称
#   type: http # http 或 file
#   behavior: classical # 或 ipcidr、domain
#   path: # 文件路径
#   url: # 只有当类型为 HTTP 时才可用，您不需要在本地空间中创建新文件。
#   interval: # 自动更新间隔，仅在类型为 HTTP 时可用

  Unbreak:
    type: http
    behavior: classical
    path: ./RuleSet/Unbreak.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Unbreak.yaml
    interval: 86400


  Global:
    type: http
    behavior: classical
    path: ./RuleSet/Global.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Global.yaml
    interval: 86400

  China:
    type: http
    behavior: classical
    path: ./RuleSet/China.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/China.yaml
    interval: 86400

  ChinaIP:
    type: http
    behavior: ipcidr
    path: ./RuleSet/Extra/ChinaIP.yaml
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Extra/ChinaIP.yaml
    interval: 86400

# 规则
rules:
  # 以下为网易云规则，优先执行网易云规则
  - DOMAIN-SUFFIX,interface.music.163.com,网易云音乐
  - DOMAIN-SUFFIX,interface1.music.163.com,网易云音乐
  - DOMAIN-SUFFIX,interface2.music.163.com,网易云音乐
  - DOMAIN-SUFFIX,interface3.music.163.com,网易云音乐
  - DOMAIN-SUFFIX,interface4.music.163.com,网易云音乐
  - DOMAIN-SUFFIX,interface5.music.163.com,网易云音乐
  - DOMAIN-SUFFIX,apm.music.163.com,网易云音乐
  - DOMAIN-SUFFIX,apm3.music.163.com,网易云音乐
  - DOMAIN-SUFFIX,man.netease.com,网易云音乐
  - DOMAIN-SUFFIX,api.iplay.163.com,网易云音乐
  - DOMAIN-SUFFIX,ac.dun.163yun.com,网易云音乐
  - DOMAIN-SUFFIX,mr.da.netease.com,网易云音乐
  - DOMAIN-SUFFIX,crash.163.com,网易云音乐
  - DOMAIN-SUFFIX,imap.163.com,网易云音乐
  - DOMAIN-SUFFIX,music.126.net,网易云音乐
  - DOMAIN-SUFFIX,music.163.com,网易云音乐
  - DOMAIN-KEYWORD,netease,网易云音乐
  - IP-CIDR,59.111.181.60/32,网易云音乐
  - IP-CIDR,223.252.199.66/32,网易云音乐
  - IP-CIDR,223.252.199.67/32,网易云音乐
  - IP-CIDR,59.111.160.195/32,网易云音乐
  - IP-CIDR,59.111.160.197/32,网易云音乐
  - IP-CIDR,59.111.181.35/32,网易云音乐
  - IP-CIDR,59.111.181.38/32,网易云音乐
  - IP-CIDR,39.105.63.80/32,网易云音乐
  - IP-CIDR,47.100.127.239/32,网易云音乐
  - IP-CIDR,118.24.63.156/32,网易云音乐
  - IP-CIDR,193.112.159.225/32,网易云音乐
  - IP-CIDR,59.111.181.155/32,网易云音乐
  - IP-CIDR,115.236.118.33/32,网易云音乐
  - IP-CIDR,59.111.128.0/17,网易云音乐
  - IP-CIDR,115.236.112.0/20,网易云音乐
  - IP-CIDR,223.252.192.0/19,网易云音乐
  - IP-CIDR,101.71.154.241/32,网易云音乐
  
  # Unbreak
  - RULE-SET,Unbreak,DIRECT

  # Global Area Network

  # (DNS Cache Pollution) / (IP Blackhole) / (Region-Restricted Access Denied) / (Network Jitter)
  - RULE-SET,Global,PROXY

  # China Area Network
  - RULE-SET,China,DIRECT

  # Local Area Network
  - IP-CIDR,192.168.0.0/16,DIRECT
  - IP-CIDR,10.0.0.0/8,DIRECT
  - IP-CIDR,172.16.0.0/12,DIRECT
  - IP-CIDR,127.0.0.0/8,DIRECT
  - IP-CIDR,100.64.0.0/10,DIRECT
  - IP-CIDR,224.0.0.0/4,DIRECT

  # （可选）使用来自 ipipdotnet 的 ChinaIP 以解决数据不准确的问题，使用 ChinaIP.yaml 时可禁用下列直至（包括）「GEOIP,CN」规则
  # - RULE-SET,ChinaIP,DIRECT
  # Tencent
  - IP-CIDR,119.28.28.28/32,DIRECT
  - IP-CIDR,182.254.116.0/24,DIRECT

  # GeoIP China
  - GEOIP,CN,DIRECT
  - MATCH,PROXY
